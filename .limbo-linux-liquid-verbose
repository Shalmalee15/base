echo "base tests:"; stack runghc --cwd base/ -- --ghc-arg=-itest --ghc-arg=-isrc -XOverloadedStrings test/Spec.hs --failure-report=/tmp/base-limbo-hspec-base && ( echo -e "\nmodel tests:"; stack runghc --cwd models -- --ghc-arg=-itest --ghc-arg=-isrc -XOverloadedStrings test/Spec.hs --skip heavy --fail-fast --failure-report=/tmp/base-limbo-hspec-models -fprogress ) && ( stack build --fast --silent --test --bench --no-run-tests --no-run-benchmarks) && ( find base/ -name .stack-work -type d -prune -o -name 'Main.hs' -prune -o -name 'flycheck_*.hs' -prune -o -name 'Spec.hs' -prune -o -name '*.hs' -print | xargs -- stack exec -- liquid 2>/dev/null && find base/ -name .stack-work -type d -prune -o -name 'flycheck_*.hs' -prune -o -name 'Spec.hs' -prune -o -name 'Main.hs' -print | xargs -n1 -- stack exec -- liquid 2>/dev/null ) || ( echo -e "\nLiquidHaskell error\n"; false)